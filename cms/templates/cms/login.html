{% extends 'cms/base.html' %}

{% block title %}ログイン | {% endblock %}

{% load static %}
{% block js %}
<script defer src="{% static 'js/prevent-double-submit.js' %}"></script>
{% endblock %}

{% block content %}
<div class="bg-light">
  <div class="container py-3">
    <h1 class="border-bottom pb-2">ログイン <small class="text-muted">Login</small></h1>
    <p class="lead">アカウントをお持ちでない方へ：会員登録は<a href="{% url 'cms:signup' %}">こちら</a></p>
    <form method="post" action="">
      {% csrf_token %}
      <div class="form-group">
        {# TODO: ユーザーネームとメールアドレスの選択 #}
        <label for="id_username">{{ form.username.label }}</label>
        <div class="input-group">
          <div class="input-group-prepend">
            <span class="input-group-text"><i class="fas fa-user"></i></span>
          </div>
          {{ form.username }}
        </div>
        {% if form.username.help_text %}<small class="form-text text-muted">{{ form.username.help_text }}</small>{% endif %}
      </div>
      {% include "./error_alert.html" with errors=form.username.errors %}

      <div class="form-group">
        <label for="id_password">{{ form.password.label }}</label>
        <div class="input-group">
          <div class="input-group-prepend">
            <span class="input-group-text"><i class="fas fa-lock"></i></span>
          </div>
          {{ form.password }}
        </div>
        {% if form.password.help_text %}<small class="form-text text-muted">{{ form.password.help_text }}</small>{% endif %}
      </div>
      {% include "./error_alert.html" with errors=form.password.errors %}

      <button type="submit" class="btn btn-primary">ログイン</button>
      <input type="hidden" name="next" value="{{ next }}">
    </form>
  </div>
</div>
{% endblock %}